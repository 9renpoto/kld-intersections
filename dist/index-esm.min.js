function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,s=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){s=!0,r=t}finally{try{i||null==o.return||o.return()}finally{if(s)throw r}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var r=function(){function e(n,i){t(this,e),this.x=void 0!==n?n:0,this.y=void 0!==i?i:0}return n(e,[{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"add",value:function(t){return new this.constructor(this.x+t.x,this.y+t.y)}},{key:"subtract",value:function(t){return new this.constructor(this.x-t.x,this.y-t.y)}},{key:"multiply",value:function(t){return new this.constructor(this.x*t,this.y*t)}},{key:"divide",value:function(t){return new this.constructor(this.x/t,this.y/t)}},{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y}},{key:"precisionEquals",value:function(t,e){return Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e}},{key:"lerp",value:function(t,e){var n=1-e;return new this.constructor(this.x*n+t.x*e,this.y*n+t.y*e)}},{key:"distanceFrom",value:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)}},{key:"min",value:function(t){return new this.constructor(Math.min(this.x,t.x),Math.min(this.y,t.y))}},{key:"max",value:function(t){return new this.constructor(Math.max(this.x,t.x),Math.max(this.y,t.y))}},{key:"transform",value:function(t){return new this.constructor(t.a*this.x+t.c*this.y+t.e,t.b*this.x+t.d*this.y+t.f)}},{key:"toString",value:function(){return"point("+this.x+","+this.y+")"}}]),e}(),a=function(){function e(n,i){t(this,e),this.x=void 0!==n?n:0,this.y=void 0!==i?i:0}return n(e,[{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"magnitude",value:function(){return this.x*this.x+this.y*this.y}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"determinant",value:function(t){return this.x*t.y-this.y*t.x}},{key:"unit",value:function(){return this.divide(this.length())}},{key:"add",value:function(t){return new this.constructor(this.x+t.x,this.y+t.y)}},{key:"subtract",value:function(t){return new this.constructor(this.x-t.x,this.y-t.y)}},{key:"multiply",value:function(t){return new this.constructor(this.x*t,this.y*t)}},{key:"divide",value:function(t){return new this.constructor(this.x/t,this.y/t)}},{key:"angleBetween",value:function(t){var e=this.dot(t)/(this.length()*t.length());e=Math.max(-1,Math.min(e,1));var n=Math.acos(e);return this.cross(t)<0?-n:n}},{key:"perp",value:function(){return new this.constructor(-this.y,this.x)}},{key:"perpendicular",value:function(t){return this.subtract(this.project(t))}},{key:"project",value:function(t){var e=this.dot(t)/t.dot(t);return t.multiply(e)}},{key:"transform",value:function(t){return new this.constructor(t.a*this.x+t.c*this.y,t.b*this.x+t.d*this.y)}},{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y}},{key:"precisionEquals",value:function(t,e){return Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e}},{key:"toString",value:function(){return"vector("+this.x+","+this.y+")"}}],[{key:"fromPoints",value:function(t,n){return new e(n.x-t.x,n.y-t.y)}}]),e}(),o=function(){function e(n,i,s,r,a,o){t(this,e),this.a=void 0!==n?n:1,this.b=void 0!==i?i:0,this.c=void 0!==s?s:0,this.d=void 0!==r?r:1,this.e=void 0!==a?a:0,this.f=void 0!==o?o:0}return n(e,[{key:"multiply",value:function(t){return this.isIdentity()?t:t.isIdentity()?this:new this.constructor(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)}},{key:"inverse",value:function(){if(this.isIdentity())return this;var t=this.a*this.d-this.b*this.c;if(0===t)throw new Error("Matrix is not invertible");var e=1/t,n=this.f*this.c-this.e*this.d,i=this.e*this.b-this.f*this.a;return new this.constructor(this.d*e,-this.b*e,-this.c*e,this.a*e,n*e,i*e)}},{key:"translate",value:function(t,e){return new this.constructor(this.a,this.b,this.c,this.d,this.a*t+this.c*e+this.e,this.b*t+this.d*e+this.f)}},{key:"scale",value:function(t){return new this.constructor(this.a*t,this.b*t,this.c*t,this.d*t,this.e,this.f)}},{key:"scaleAt",value:function(t,e){var n=e.x-t*e.x,i=e.y-t*e.y;return new this.constructor(this.a*t,this.b*t,this.c*t,this.d*t,this.a*n+this.c*i+this.e,this.b*n+this.d*i+this.f)}},{key:"scaleNonUniform",value:function(t,e){return new this.constructor(this.a*t,this.b*t,this.c*e,this.d*e,this.e,this.f)}},{key:"scaleNonUniformAt",value:function(t,e,n){var i=n.x-t*n.x,s=n.y-e*n.y;return new this.constructor(this.a*t,this.b*t,this.c*e,this.d*e,this.a*i+this.c*s+this.e,this.b*i+this.d*s+this.f)}},{key:"rotate",value:function(t){var e=Math.cos(t),n=Math.sin(t);return new this.constructor(this.a*e+this.c*n,this.b*e+this.d*n,this.a*-n+this.c*e,this.b*-n+this.d*e,this.e,this.f)}},{key:"rotateAt",value:function(t,e){var n=Math.cos(t),i=Math.sin(t),s=e.x,r=e.y,a=this.a*n+this.c*i,o=this.b*n+this.d*i,l=this.c*n-this.a*i,u=this.d*n-this.b*i;return new this.constructor(a,o,l,u,(this.a-a)*s+(this.c-l)*r+this.e,(this.b-o)*s+(this.d-u)*r+this.f)}},{key:"rotateFromVector",value:function(t){var e=t.unit(),n=e.x,i=e.y;return new this.constructor(this.a*n+this.c*i,this.b*n+this.d*i,this.a*-i+this.c*n,this.b*-i+this.d*n,this.e,this.f)}},{key:"flipX",value:function(){return new this.constructor(-this.a,-this.b,this.c,this.d,this.e,this.f)}},{key:"flipY",value:function(){return new this.constructor(this.a,this.b,-this.c,-this.d,this.e,this.f)}},{key:"skewX",value:function(t){var e=Math.tan(t);return new this.constructor(this.a,this.b,this.c+this.a*e,this.d+this.b*e,this.e,this.f)}},{key:"skewY",value:function(t){var e=Math.tan(t);return new this.constructor(this.a+this.c*e,this.b+this.d*e,this.c,this.d,this.e,this.f)}},{key:"isIdentity",value:function(){return 1===this.a&&0===this.b&&0===this.c&&1===this.d&&0===this.e&&0===this.f}},{key:"isInvertible",value:function(){return this.a*this.d-this.b*this.c!=0}},{key:"getScale",value:function(){return{scaleX:Math.sqrt(this.a*this.a+this.c*this.c),scaleY:Math.sqrt(this.b*this.b+this.d*this.d)}}},{key:"getDecomposition",value:function(){var t=.5*(this.a+this.d),e=.5*(this.a-this.d),n=.5*(this.b+this.c),i=.5*(this.b-this.c),s=Math.sqrt(t*t+i*i),r=Math.sqrt(e*e+n*n),a=s+r,o=s-r,l=Math.atan2(n,e),u=Math.atan2(i,t),h=.5*(u-l),y=.5*(u+l);return{translation:this.constructor.translation(this.e,this.f),rotation:this.constructor.rotation(y),scale:this.constructor.nonUniformScaling(a,o),rotation0:this.constructor.rotation(h)}}},{key:"equals",value:function(t){return this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d&&this.e===t.e&&this.f===t.f}},{key:"precisionEquals",value:function(t,e){return Math.abs(this.a-t.a)<e&&Math.abs(this.b-t.b)<e&&Math.abs(this.c-t.c)<e&&Math.abs(this.d-t.d)<e&&Math.abs(this.e-t.e)<e&&Math.abs(this.f-t.f)<e}},{key:"toString",value:function(){return"matrix("+[this.a,this.b,this.c,this.d,this.e,this.f].join(",")+")"}}],[{key:"translation",value:function(t,n){return new e(1,0,0,1,t,n)}},{key:"scaling",value:function(t){return new e(t,0,0,t,0,0)}},{key:"scalingAt",value:function(t,n){return new e(t,0,0,t,n.x-n.x*t,n.y-n.y*t)}},{key:"nonUniformScaling",value:function(t,n){return new e(t,0,0,n,0,0)}},{key:"nonUniformScalingAt",value:function(t,n,i){return new e(t,0,0,n,i.x-i.x*t,i.y-i.y*n)}},{key:"rotation",value:function(t){var n=Math.cos(t),i=Math.sin(t);return new e(n,i,-i,n,0,0)}},{key:"rotationAt",value:function(t,n){var i=Math.cos(t),s=Math.sin(t);return new e(i,s,-s,i,n.x-n.x*i+n.y*s,n.y-n.y*i-n.x*s)}},{key:"rotationFromVector",value:function(t){var n=t.unit(),i=n.x,s=n.y;return new e(i,s,-s,i,0,0)}},{key:"xFlip",value:function(){return new e(-1,0,0,1,0,0)}},{key:"yFlip",value:function(){return new e(1,0,0,-1,0,0)}},{key:"xSkew",value:function(t){return new e(1,0,Math.tan(t),1,0,0)}},{key:"ySkew",value:function(t){return new e(1,Math.tan(t),0,1,0,0)}}]),e}();function l(t){return"number"==typeof t?t?t<0?-1:1:t==t?t:NaN:NaN}o.IDENTITY=new o,o.IDENTITY.isIdentity=function(){return!0};var u=function(){function e(){t(this,e),this.coefs=[];for(var n=arguments.length-1;n>=0;n--)this.coefs.push(n<0||arguments.length<=n?void 0:arguments[n]);this._variable="t",this._s=0}return n(e,[{key:"clone",value:function(){var t=new e;return t.coefs=this.coefs.slice(),t}},{key:"eval",value:function(t){if(isNaN(t))throw new Error("Polynomial.eval: parameter must be a number, got '".concat(t,"'"));for(var e=0,n=this.coefs.length-1;n>=0;n--)e=e*t+this.coefs[n];return e}},{key:"add",value:function(t){for(var n=new e,i=this.getDegree(),s=t.getDegree(),r=Math.max(i,s),a=0;a<=r;a++){var o=a<=i?this.coefs[a]:0,l=a<=s?t.coefs[a]:0;n.coefs[a]=o+l}return n}},{key:"multiply",value:function(t){for(var n=new e,i=0;i<=this.getDegree()+t.getDegree();i++)n.coefs.push(0);for(var s=0;s<=this.getDegree();s++)for(var r=0;r<=t.getDegree();r++)n.coefs[s+r]+=this.coefs[s]*t.coefs[r];return n}},{key:"divide_scalar",value:function(t){for(var e=0;e<this.coefs.length;e++)this.coefs[e]/=t}},{key:"simplify",value:function(t){void 0===t&&(t=1e-12);for(var e=this.getDegree();e>=0&&Math.abs(this.coefs[e])<=t;e--)this.coefs.pop()}},{key:"bisection",value:function(t,n){var i,s=this.eval(t),r=this.eval(n);if(Math.abs(s)<=e.TOLERANCE)i=t;else if(Math.abs(r)<=e.TOLERANCE)i=n;else if(s*r<=0)for(var a=Math.log(n-t),o=Math.LN10*e.ACCURACY,l=Math.ceil((a+o)/Math.LN2),u=0;u<l;u++){i=.5*(t+n);var h=this.eval(i);if(Math.abs(h)<=e.TOLERANCE)break;h*s<0?(n=i,r=h):(t=i,s=h)}return i}},{key:"toString",value:function(){for(var t=[],e=[],n=this.coefs.length-1;n>=0;n--){var i=Math.round(1e3*this.coefs[n])/1e3;if(0!==i){var s=i<0?" - ":" + ";i=Math.abs(i),n>0&&(1===i?i=this._variable:i+=this._variable),n>1&&(i+="^"+n),e.push(s),t.push(i)}}e[0]=" + "===e[0]?"":"-";for(var r="",a=0;a<t.length;a++)r+=e[a]+t[a];return r}},{key:"trapezoid",value:function(t,e,n){if(isNaN(t)||isNaN(e)||isNaN(n))throw new Error("Polynomial.trapezoid: parameters must be numbers");var i=e-t;if(1===n){var s=this.eval(t),r=this.eval(e);this._s=.5*i*(s+r)}else{for(var a=1<<n-2,o=i/a,l=t+.5*o,u=0,h=0;h<a;h++)u+=this.eval(l),l+=o;this._s=.5*(this._s+i*u/a)}if(isNaN(this._s))throw new Error("Polynomial.trapezoid: this._s is NaN");return this._s}},{key:"simpson",value:function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Polynomial.simpson: parameters must be numbers");for(var n=e-t,i=.5*n*(this.eval(t)+this.eval(e)),s=i,r=4*i/3,a=r,o=i,l=1,u=2;u<=20;u++){for(var h=n/l,y=t+.5*h,c=0,f=1;f<=l;f++)c+=this.eval(y),y+=h;if(r=(4*(i=s=.5*(s+n*c/l))-o)/3,Math.abs(r-a)<1e-7*Math.abs(a))break;a=r,o=i,l<<=1}return r}},{key:"romberg",value:function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Polynomial.romberg: parameters must be numbers");var i=new Array(21),s=new Array(21),r={y:0,dy:0};s[0]=1;for(var a=1;a<=20&&(i[a-1]=this.trapezoid(t,n,a),!(a>=3&&(r=e.interpolate(s,i,3,a-3,0),Math.abs(r.dy)<=1e-6*r.y)));a++)i[a]=i[a-1],s[a]=.25*s[a-1];return r.y}},{key:"getDegree",value:function(){return this.coefs.length-1}},{key:"getDerivative",value:function(){for(var t=new e,n=1;n<this.coefs.length;n++)t.coefs.push(n*this.coefs[n]);return t}},{key:"getRoots",value:function(){var t;switch(this.simplify(),this.getDegree()){case 0:t=[];break;case 1:t=this.getLinearRoot();break;case 2:t=this.getQuadraticRoots();break;case 3:t=this.getCubicRoots();break;case 4:t=this.getQuarticRoots();break;default:t=[]}return t}},{key:"getRootsInInterval",value:function(t,e){var n=[];function i(t){"number"==typeof t&&n.push(t)}if(0===this.getDegree())throw new Error("Polynomial.getRootsInInterval: Unexpected empty polynomial");if(1===this.getDegree())i(this.bisection(t,e));else{var s=this.getDerivative().getRootsInInterval(t,e);if(s.length>0){i(this.bisection(t,s[0]));for(var r=0;r<=s.length-2;r++)i(this.bisection(s[r],s[r+1]));i(this.bisection(s[s.length-1],e))}else i(this.bisection(t,e))}return n}},{key:"getLinearRoot",value:function(){var t=[],e=this.coefs[1];return 0!==e&&t.push(-this.coefs[0]/e),t}},{key:"getQuadraticRoots",value:function(){var t=[];if(2===this.getDegree()){var e=this.coefs[2],n=this.coefs[1]/e,i=n*n-4*(this.coefs[0]/e);if(i>0){var s=Math.sqrt(i);t.push(.5*(-n+s)),t.push(.5*(-n-s))}else 0===i&&t.push(.5*-n)}return t}},{key:"getCubicRoots",value:function(){var t=[];if(3===this.getDegree()){var e=this.coefs[3],n=this.coefs[2]/e,i=this.coefs[1]/e,s=(3*i-n*n)/3,r=(2*n*n*n-9*i*n+27*(this.coefs[0]/e))/27,a=n/3,o=r*r/4+s*s*s/27,l=r/2,u=this.zeroErrorEstimate();if(Math.abs(o)<=u&&(o=0),o>0){var h,y=Math.sqrt(o),c=-l+y;h=c>=0?Math.pow(c,1/3):-Math.pow(-c,1/3),(c=-l-y)>=0?h+=Math.pow(c,1/3):h-=Math.pow(-c,1/3),t.push(h-a)}else if(o<0){var f=Math.sqrt(-s/3),x=Math.atan2(Math.sqrt(-o),-l)/3,p=Math.cos(x),v=Math.sin(x),d=Math.sqrt(3);t.push(2*f*p-a),t.push(-f*(p+d*v)-a),t.push(-f*(p-d*v)-a)}else{var m;m=l>=0?-Math.pow(l,1/3):Math.pow(-l,1/3),t.push(2*m-a),t.push(-m-a)}}return t}},{key:"getQuarticRoots",value:function(){var t=[],n=this.getDegree();if(4===n){var i=new e;i.coefs=this.coefs.slice(),i.divide_scalar(i.coefs[n]);Math.abs(i.coefs[0])<10*1e-15*Math.abs(i.coefs[3])&&(i.coefs[0]=0);for(var s=i.getDerivative(),r=s.getRoots().sort(function(t,e){return t-e}),a=[],o=r.length-1,u=this.bounds(),h=Math.max(Math.abs(u.minX),Math.abs(u.maxX)),y=this.zeroErrorEstimate(h),c=0;c<=o;c++)a.push(i.eval(r[c]));for(var f=0;f<=o;f++)Math.abs(a[f])<y&&(a[f]=0);var x=0,p=Math.max(.1*(u.maxX-u.minX)/n,1e-15),v=[],d=[];if(o>-1){for(0!==a[0]?l(a[0])!==l(i.eval(r[0]-p)-a[0])&&(v.push(r[0]-p),d.push([u.minX,r[0]])):(t.push(r[0],r[0]),x++);x<o;x++)0===a[x+1]?(t.push(r[x+1],r[x+1]),x++):l(a[x])!==l(a[x+1])&&(v.push((r[x]+r[x+1])/2),d.push([r[x],r[x+1]]));0!==a[o]&&l(a[o])!==l(i.eval(r[o]+p)-a[o])&&(v.push(r[o]+p),d.push([r[o],u.maxX]))}var m=function(t){return i.eval(t)},w=function(t){return s.eval(t)};if(v.length>0)for(x=0;x<v.length;x++)v[x]=e.newton_secant_bisection(v[x],m,w,32,d[x][0],d[x][1]);t=t.concat(v)}return t}},{key:"zeroErrorEstimate",value:function(t){if(void 0===t){var e=this.bounds();t=Math.max(Math.abs(e.minX),Math.abs(e.maxX))}if(t<.001)return 2*Math.abs(this.eval(1e-15));var n=this.coefs.length-1,i=this.coefs[n];return 10*1e-15*this.coefs.reduce(function(e,n,s){var r=n/i*Math.pow(t,s);return r>e?r:e},0)}},{key:"bounds_UpperReal_Fujiwara",value:function(){var t=this.coefs,e=t.length-1,n=t[e];1!==n&&(t=this.coefs.map(function(t){return t/n}));var i,s=t.map(function(t,n){return n<e?Math.pow(Math.abs(0===n?t/2:t),1/(e-n)):t}),r=function(t,e,n){return i(n)&&(t.max<e?(t.nearmax=t.max,t.max=e):t.nearmax<e&&(t.nearmax=e)),t};i=function(n){return n<e&&t[n]<0};var a=s.reduce(r,{max:0,nearmax:0});return i=function(n){return n<e&&(e%2==n%2?t[n]<0:t[n]>0)},{negX:-2*s.reduce(r,{max:0,nearmax:0}).max,posX:2*a.max}}},{key:"bounds_LowerReal_Fujiwara",value:function(){var t=new e;t.coefs=this.coefs.slice().reverse();var n=t.bounds_UpperReal_Fujiwara();return n.negX=1/n.negX,n.posX=1/n.posX,n}},{key:"bounds",value:function(){var t=this.bounds_UpperReal_Fujiwara(),e={minX:t.negX,maxX:t.posX};return 0===t.negX&&0===t.posX?e:(0===t.negX?e.minX=this.bounds_LowerReal_Fujiwara().posX:0===t.posX&&(e.maxX=this.bounds_LowerReal_Fujiwara().negX),e.minX>e.maxX&&(e.minX=e.maxX=0),e)}},{key:"modify_zeroSmallCoefs",value:function(){for(var t=this.coefs,e=10*1e-15*Math.abs(t.reduce(function(t,e){return Math.abs(e)>Math.abs(t)?e:t})),n=0;n<t.length-1;n++)Math.abs(t[n])<e&&(t[n]=0);return this}},{key:"modify_toMonic",value:function(){var t=this.coefs;return 1!==t[t.length-1]&&this.divide_scalar(t[t.length-1]),this}},{key:"bound_UpperAbs_Rouche",value:function(){var t=this.coefs,e=t.length-1;return 1+t.reduce(function(t,n,i){return i!==e&&t<(n=Math.abs(n))?n:t},0)/Math.abs(t[e])}},{key:"bound_LowerAbs_Rouche",value:function(){var t=this.coefs,e=t.reduce(function(t,e,n){return 0!==n&&t<(e=Math.abs(e))?e:t},0);return Math.abs(t[0])/(Math.abs(t[0])+e)}},{key:"bounds_Real_Laguerre",value:function(){var t=this.coefs,e=t.length-1,n=-t[e-1]/(e*t[e]),i=t[e-1]*t[e-1]-2*e/(e-1)*t[e]*t[e-2],s=(e-1)/(e*t[e])*Math.sqrt(i);return s<0&&(s=-s),{minX:n-s,maxX:n+s}}},{key:"countRoots_Descartes",value:function(){var t=this.coefs,e=t.length-1,n=t.reduce(function(t,e,n){return 0!==t.prev_a&&0!==e&&(t.prev_a<0==e>0&&t.pos++,n%2==0!=t.prev_a<0==(n%2==1!=e>0)&&t.neg++),t.prev_a=e,t},{pos:0,neg:0,prev_a:0});return{maxRealPos:n.pos,maxRealNeg:n.neg,minComplex:e-(n.pos+n.neg)}}}],[{key:"interpolate",value:function(t,e,n,i,s){if(t.constructor!==Array||e.constructor!==Array)throw new Error("Polynomial.interpolate: xs and ys must be arrays");if(isNaN(n)||isNaN(i)||isNaN(s))throw new Error("Polynomial.interpolate: n, offset, and x must be numbers");var r,a=0,o=0,l=new Array(n),u=new Array(n),h=0,y=Math.abs(s-t[i]);for(r=0;r<n;r++){var c=Math.abs(s-t[i+r]);c<y&&(h=r,y=c),l[r]=u[r]=e[i+r]}a=e[i+h],h--;for(var f=1;f<n;f++){for(r=0;r<n-f;r++){var x=t[i+r]-s,p=t[i+r+f]-s,v=l[r+1]-u[r],d=x-p;if(0===d)throw new Error("Unable to interpolate polynomial. Two numbers in n were identical (to within roundoff)");d=v/d,u[r]=p*d,l[r]=x*d}a+=o=2*(h+1)<n-f?l[h+1]:u[h--]}return{y:a,dy:o}}},{key:"newton_secant_bisection",value:function(t,e,n,i,s,r){var a,o,u,h,y,c,f,x=0,p=0;a=t;var v=Math.pow(10,-14),d="number"==typeof s&&"number"==typeof r;if(d){if(s>r)throw new Error("newton root finding: min must be greater than max");if(c=e(s),f=e(r),l(c)===l(f))throw new Error("newton root finding: y values of bounds must be of opposite sign")}for(var m=function(){return Math.abs(u)<=v*Math.abs(a)||p===a-u-a},w=0;w<i;w++){if(0===(o=n(a))){if(0===x)throw new Error("newton root finding: df(x) is zero");o=x}if(x=o,y=e(a),h=a-(u=y/o),m())break;if(d){if(l(y)===l(f))r=a,f=y;else{if(l(y)!==l(c)){a=h;break}s=a,c=y}if(h<s||h>r){if(l(c)===l(f))break;var g=f-c,b=r-s;if(u=0===g?a-(s+.5*b):Math.abs(g/Math.min(c,f))>50?a-(s+b*(.5+(Math.abs(c)<Math.abs(f)?-.25:.25))):a-(s-c/g*b),h=a-u,m())break}}p=a-h,a=h}return a}}]),e}();u.TOLERANCE=1e-6,u.ACCURACY=15;var h=function(){function e(n,i){t(this,e),this.init(n,i)}return n(e,[{key:"init",value:function(t,e){this.name=t,this.args=e}}]),e}(),y=2*Math.PI,c=new a(1,0);function f(t){return null==t}function x(t){var e=t%y;return e<0?e+y:e}function p(t,e,n,i,s,r){if(0===t.points.length)return t;var o=new d("No Intersection"),l=x(s),u=x(r),h=!0,y=!1,f=void 0;try{for(var p,v=t.points[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var m=p.value,w=x(c.angleBetween(a.fromPoints(e,m)));l<=w&&w<=u&&o.appendPoint(m)}}catch(t){y=!0,f=t}finally{try{h||null==v.return||v.return()}finally{if(y)throw f}}return o.points.length>0&&(o.status="Intersection"),o}function v(t){var e=t.slice();return e.push(t[0]),e}var d=function(){function e(n){t(this,e),this.init(n)}return n(e,[{key:"init",value:function(t){this.status=t,this.points=[]}},{key:"appendPoint",value:function(t){this.points.push(t)}},{key:"appendPoints",value:function(t){this.points=this.points.concat(t)}}],[{key:"intersect",value:function(t,n){var i;if(f(t)||f(n))i=new e("No Intersection");else if("Path"===t.name)i=e.intersectPathShape(t,n);else if("Path"===n.name)i=e.intersectPathShape(n,t);else if("Arc"===t.name)i=e.intersectArcShape(t,n);else if("Arc"===n.name)i=e.intersectArcShape(n,t);else{var s,r;if(t.name<n.name?(s="intersect"+t.name+n.name,r=t.args.concat(n.args)):(s="intersect"+n.name+t.name,r=n.args.concat(t.args)),!(s in e))throw new Error("Intersection not available: "+s);i=e[s].apply(null,r)}return i}},{key:"intersectPathShape",value:function(t,n){var i=new e("No Intersection"),s=!0,r=!1,a=void 0;try{for(var o,l=t.args[Symbol.iterator]();!(s=(o=l.next()).done);s=!0){var u=o.value,h=e.intersect(u,n);i.appendPoints(h.points)}}catch(t){r=!0,a=t}finally{try{s||null==l.return||l.return()}finally{if(r)throw a}}return i.points.length>0&&(i.status="Intersection"),i}},{key:"intersectArcShape",value:function(t,n){var s=i(t.args,5),r=s[0],a=s[1],o=s[2],l=s[3],u=s[4],y=new h("Ellipse",[r,a,o]);return p(e.intersect(y,n),r,0,0,l,u)}},{key:"intersectBezier2Bezier2",value:function(t,n,i,s,a,o){var l,h,y=new e("No Intersection");l=n.multiply(-2);var c=t.add(l.add(i));l=t.multiply(-2),h=n.multiply(2);var f=l.add(h),x=new r(t.x,t.y);l=a.multiply(-2);var p=s.add(l.add(o));l=s.multiply(-2),h=a.multiply(2);var v=l.add(h),d=new r(s.x,s.y);l=c.x*f.y-f.x*c.y,h=p.x*f.y-f.x*p.y;var m=v.x*f.y-f.x*v.y,w=f.x*(x.y-d.y)+f.y*(-x.x+d.x),g=p.x*c.y-c.x*p.y,b=v.x*c.y-c.x*v.y,k=c.x*(x.y-d.y)+c.y*(-x.x+d.x),M=new u(-g*g,-2*g*b,l*h-b*b-2*g*k,l*m-2*b*k,l*w-k*k).getRoots(),P=!0,X=!1,I=void 0;try{for(var R,E=M[Symbol.iterator]();!(P=(R=E.next()).done);P=!0){var N=R.value;if(0<=N&&N<=1){var C=new u(c.x,f.x,x.x-d.x-N*v.x-N*N*p.x);C.simplify();var Y=C.getRoots(),L=new u(c.y,f.y,x.y-d.y-N*v.y-N*N*p.y);L.simplify();var A=L.getRoots();if(Y.length>0&&A.length>0){var z=!0,S=!1,B=void 0;try{t:for(var _,D=Y[Symbol.iterator]();!(z=(_=D.next()).done);z=!0){var q=_.value;if(0<=q&&q<=1)for(var T=0;T<A.length;T++)if(Math.abs(q-A[T])<1e-4){y.points.push(p.multiply(N*N).add(v.multiply(N).add(d)));break t}}}catch(t){S=!0,B=t}finally{try{z||null==D.return||D.return()}finally{if(S)throw B}}}}}}catch(t){X=!0,I=t}finally{try{P||null==E.return||E.return()}finally{if(X)throw I}}return y.points.length>0&&(y.status="Intersection"),y}},{key:"intersectBezier2Bezier3",value:function(t,n,i,s,o,l,h){var y,c,f,x,p=new e("No Intersection");y=n.multiply(-2);var v=t.add(y.add(i));y=t.multiply(-2),c=n.multiply(2);var d=y.add(c),m=new r(t.x,t.y);y=s.multiply(-1),c=o.multiply(3),f=l.multiply(-3),x=y.add(c.add(f.add(h)));var w=new a(x.x,x.y);y=s.multiply(3),c=o.multiply(-6),f=l.multiply(3),x=y.add(c.add(f));var g=new a(x.x,x.y);y=s.multiply(-3),c=o.multiply(3),f=y.add(c);var b=new a(f.x,f.y),k=new a(s.x,s.y),M=m.x*m.x,P=m.y*m.y,X=d.x*d.x,I=d.y*d.y,R=v.x*v.x,E=v.y*v.y,N=k.x*k.x,C=k.y*k.y,Y=b.x*b.x,L=b.y*b.y,A=g.x*g.x,z=g.y*g.y,S=w.x*w.x,B=w.y*w.y,_=new u(-2*v.x*v.y*w.x*w.y+R*B+E*S,-2*v.x*v.y*g.x*w.y-2*v.x*v.y*g.y*w.x+2*E*g.x*w.x+2*R*g.y*w.y,-2*v.x*b.x*v.y*w.y-2*v.x*v.y*b.y*w.x-2*v.x*v.y*g.x*g.y+2*b.x*E*w.x+E*A+R*(2*b.y*w.y+z),2*m.x*v.x*v.y*w.y+2*m.y*v.x*v.y*w.x+d.x*d.y*v.x*w.y+d.x*d.y*v.y*w.x-2*k.x*v.x*v.y*w.y-2*v.x*k.y*v.y*w.x-2*v.x*b.x*v.y*g.y-2*v.x*v.y*b.y*g.x-2*m.x*E*w.x-2*m.y*R*w.y+2*k.x*E*w.x+2*b.x*E*g.x-I*v.x*w.x-X*v.y*w.y+R*(2*k.y*w.y+2*b.y*g.y),2*m.x*v.x*v.y*g.y+2*m.y*v.x*v.y*g.x+d.x*d.y*v.x*g.y+d.x*d.y*v.y*g.x-2*k.x*v.x*v.y*g.y-2*v.x*k.y*v.y*g.x-2*v.x*b.x*v.y*b.y-2*m.x*E*g.x-2*m.y*R*g.y+2*k.x*E*g.x-I*v.x*g.x-X*v.y*g.y+Y*E+R*(2*k.y*g.y+L),2*m.x*v.x*v.y*b.y+2*m.y*v.x*b.x*v.y+d.x*d.y*v.x*b.y+d.x*d.y*b.x*v.y-2*k.x*v.x*v.y*b.y-2*v.x*k.y*b.x*v.y-2*m.x*b.x*E-2*m.y*R*b.y+2*k.x*b.x*E-I*v.x*b.x-X*v.y*b.y+2*R*k.y*b.y,-2*m.x*m.y*v.x*v.y-m.x*d.x*d.y*v.y-m.y*d.x*d.y*v.x+2*m.x*v.x*k.y*v.y+2*m.y*k.x*v.x*v.y+d.x*k.x*d.y*v.y+d.x*d.y*v.x*k.y-2*k.x*v.x*k.y*v.y-2*m.x*k.x*E+m.x*I*v.x+m.y*X*v.y-2*m.y*R*k.y-k.x*I*v.x-X*k.y*v.y+M*E+P*R+N*E+R*C).getRootsInInterval(0,1),D=!0,q=!1,T=void 0;try{for(var O,U=_[Symbol.iterator]();!(D=(O=U.next()).done);D=!0){var Q=O.value,F=new u(v.x,d.x,m.x-k.x-Q*b.x-Q*Q*g.x-Q*Q*Q*w.x).getRoots(),j=new u(v.y,d.y,m.y-k.y-Q*b.y-Q*Q*g.y-Q*Q*Q*w.y).getRoots();if(F.length>0&&j.length>0){var H=!0,V=!1,$=void 0;try{t:for(var Z,G=F[Symbol.iterator]();!(H=(Z=G.next()).done);H=!0){var J=Z.value;if(0<=J&&J<=1)for(var K=0;K<j.length;K++)if(Math.abs(J-j[K])<1e-4){p.points.push(w.multiply(Q*Q*Q).add(g.multiply(Q*Q).add(b.multiply(Q).add(k))));break t}}}catch(t){V=!0,$=t}finally{try{H||null==G.return||G.return()}finally{if(V)throw $}}}}}catch(t){q=!0,T=t}finally{try{D||null==U.return||U.return()}finally{if(q)throw T}}return p.points.length>0&&(p.status="Intersection"),p}},{key:"intersectBezier2Circle",value:function(t,n,i,s,r){return e.intersectBezier2Ellipse(t,n,i,s,r,r)}},{key:"intersectBezier2Ellipse",value:function(t,n,i,s,a,o){var l,h=new e("No Intersection");l=n.multiply(-2);var y=t.add(l.add(i));l=t.multiply(-2);var c=n.multiply(2),f=l.add(c),x=new r(t.x,t.y),p=a*a,v=o*o,d=new u(v*y.x*y.x+p*y.y*y.y,2*(v*y.x*f.x+p*y.y*f.y),v*(2*y.x*x.x+f.x*f.x)+p*(2*y.y*x.y+f.y*f.y)-2*(v*s.x*y.x+p*s.y*y.y),2*(v*f.x*(x.x-s.x)+p*f.y*(x.y-s.y)),v*(x.x*x.x+s.x*s.x)+p*(x.y*x.y+s.y*s.y)-2*(v*s.x*x.x+p*s.y*x.y)-p*v).getRoots(),m=!0,w=!1,g=void 0;try{for(var b,k=d[Symbol.iterator]();!(m=(b=k.next()).done);m=!0){var M=b.value;0<=M&&M<=1&&h.points.push(y.multiply(M*M).add(f.multiply(M).add(x)))}}catch(t){w=!0,g=t}finally{try{m||null==k.return||k.return()}finally{if(w)throw g}}return h.points.length>0&&(h.status="Intersection"),h}},{key:"intersectBezier2Line",value:function(t,n,i,s,o){var l,h=s.min(o),y=s.max(o),c=new e("No Intersection");l=n.multiply(-2);var f=t.add(l.add(i));l=t.multiply(-2);var x=n.multiply(2),p=l.add(x),v=new r(t.x,t.y),d=new a(s.y-o.y,o.x-s.x),m=s.x*o.y-o.x*s.y,w=new u(d.dot(f),d.dot(p),d.dot(v)+m).getRoots(),g=!0,b=!1,k=void 0;try{for(var M,P=w[Symbol.iterator]();!(g=(M=P.next()).done);g=!0){var X=M.value;if(0<=X&&X<=1){var I=t.lerp(n,X),R=n.lerp(i,X),E=I.lerp(R,X);s.x===o.x?h.y<=E.y&&E.y<=y.y&&(c.status="Intersection",c.appendPoint(E)):s.y===o.y?h.x<=E.x&&E.x<=y.x&&(c.status="Intersection",c.appendPoint(E)):h.x<=E.x&&E.x<=y.x&&h.y<=E.y&&E.y<=y.y&&(c.status="Intersection",c.appendPoint(E))}}}catch(t){b=!0,k=t}finally{try{g||null==P.return||P.return()}finally{if(b)throw k}}return c}},{key:"intersectBezier2Polygon",value:function(t,n,i,s){return e.intersectBezier2Polyline(t,n,i,v(s))}},{key:"intersectBezier2Polyline",value:function(t,n,i,s){for(var r=new e("No Intersection"),a=s.length,o=0;o<a-1;o++){var l=s[o],u=s[o+1],h=e.intersectBezier2Line(t,n,i,l,u);r.appendPoints(h.points)}return r.points.length>0&&(r.status="Intersection"),r}},{key:"intersectBezier2Rectangle",value:function(t,n,i,s,a){var o=s.min(a),l=s.max(a),u=new r(l.x,o.y),h=new r(o.x,l.y),y=e.intersectBezier2Line(t,n,i,o,u),c=e.intersectBezier2Line(t,n,i,u,l),f=e.intersectBezier2Line(t,n,i,l,h),x=e.intersectBezier2Line(t,n,i,h,o),p=new e("No Intersection");return p.appendPoints(y.points),p.appendPoints(c.points),p.appendPoints(f.points),p.appendPoints(x.points),p.points.length>0&&(p.status="Intersection"),p}},{key:"intersectBezier3Bezier3",value:function(t,n,i,s,r,o,l,h){var y,c,f,x,p=new e("No Intersection");y=t.multiply(-1),c=n.multiply(3),f=i.multiply(-3),x=y.add(c.add(f.add(s)));var v=new a(x.x,x.y);y=t.multiply(3),c=n.multiply(-6),f=i.multiply(3),x=y.add(c.add(f));var d=new a(x.x,x.y);y=t.multiply(-3),c=n.multiply(3),f=y.add(c);var m=new a(f.x,f.y),w=new a(t.x,t.y);y=r.multiply(-1),c=o.multiply(3),f=l.multiply(-3),x=y.add(c.add(f.add(h)));var g=new a(x.x,x.y);y=r.multiply(3),c=o.multiply(-6),f=l.multiply(3),x=y.add(c.add(f));var b=new a(x.x,x.y);y=r.multiply(-3),c=o.multiply(3),f=y.add(c);var k=new a(f.x,f.y),M=new a(r.x,r.y);y=v.x*d.y-d.x*v.y,c=v.x*m.y-m.x*v.y;var P=v.x*w.y-w.x*v.y+M.x*v.y-v.x*M.y,X=k.x*v.y-v.x*k.y,I=b.x*v.y-v.x*b.y,R=g.x*v.y-v.x*g.y;x=v.x*m.y-m.x*v.y;var E=v.x*w.y+d.x*m.y-m.x*d.y-w.x*v.y+M.x*v.y-v.x*M.y,N=k.x*v.y-v.x*k.y,C=b.x*v.y-v.x*b.y,Y=g.x*v.y-v.x*g.y,L=d.x*w.y-w.x*d.y+M.x*d.y-d.x*M.y,A=k.x*d.y-d.x*k.y,z=b.x*d.y-d.x*b.y,S=g.x*d.y-d.x*g.y,B=v.x*w.y-w.x*v.y+M.x*v.y-v.x*M.y,_=k.x*v.y-v.x*k.y,D=b.x*v.y-v.x*b.y,q=g.x*v.y-v.x*g.y,T=d.x*w.y-w.x*d.y+M.x*d.y-d.x*M.y,O=k.x*d.y-d.x*k.y,U=b.x*d.y-d.x*b.y,Q=g.x*d.y-d.x*g.y,F=m.x*w.y-w.x*m.y+M.x*m.y-m.x*M.y,j=k.x*m.y-m.x*k.y,H=b.x*m.y-m.x*b.y,V=g.x*m.y-m.x*g.y,$=new u(-R*Y*q,-R*Y*D-R*C*q-I*Y*q,-R*Y*_-R*C*D-I*Y*D-R*N*q-I*C*q-X*Y*q,-R*Y*B-R*C*_-I*Y*_-R*N*D-I*C*D-X*Y*D-R*E*q-I*N*q-X*C*q-P*Y*q+c*S*q+R*x*Q-y*S*Q+y*Y*V,-R*C*B-I*Y*B-R*N*_-I*C*_-X*Y*_-R*E*D-I*N*D-X*C*D-P*Y*D+c*S*D-I*E*q-X*N*q-P*C*q+c*z*q+R*x*U-y*S*U+I*x*Q-y*z*Q+y*Y*H+y*C*V,-R*N*B-I*C*B-X*Y*B-R*E*_-I*N*_-X*C*_-P*Y*_+c*S*_-I*E*D-X*N*D-P*C*D+c*z*D-X*E*q-P*N*q+c*A*q+R*x*O-y*S*O+I*x*U-y*z*U+X*x*Q-y*A*Q+y*Y*j+y*C*H+y*N*V,-R*E*B-I*N*B-X*C*B-P*Y*B+c*S*B-I*E*_-X*N*_-P*C*_+c*z*_-X*E*D-P*N*D+c*A*D-P*E*q+c*L*q+R*x*T-y*S*T+I*x*O-y*z*O+X*x*U-y*A*U+P*x*Q-y*L*Q+y*Y*F+y*C*j+y*N*H-c*x*V+y*E*V,-I*E*B-X*N*B-P*C*B+c*z*B-X*E*_-P*N*_+c*A*_-P*E*D+c*L*D+I*x*T-y*z*T+X*x*O-y*A*O+P*x*U-y*L*U+y*C*F+y*N*j-c*x*H+y*E*H,-X*E*B-P*N*B+c*A*B-P*E*_+c*L*_+X*x*T-y*A*T+P*x*O-y*L*O+y*N*F-c*x*j+y*E*j,-P*E*B+c*L*B+P*x*T-y*L*T-c*x*F+y*E*F);$.simplify();var Z=$.getRootsInInterval(0,1),G=!0,J=!1,K=void 0;try{for(var W,tt=Z[Symbol.iterator]();!(G=(W=tt.next()).done);G=!0){var et=W.value,nt=new u(v.x,d.x,m.x,w.x-M.x-et*k.x-et*et*b.x-et*et*et*g.x);nt.simplify();var it=nt.getRoots(),st=new u(v.y,d.y,m.y,w.y-M.y-et*k.y-et*et*b.y-et*et*et*g.y);st.simplify();var rt=st.getRoots();if(it.length>0&&rt.length>0){var at=!0,ot=!1,lt=void 0;try{t:for(var ut,ht=it[Symbol.iterator]();!(at=(ut=ht.next()).done);at=!0){var yt=ut.value;if(0<=yt&&yt<=1)for(var ct=0;ct<rt.length;ct++)if(Math.abs(yt-rt[ct])<1e-4){p.points.push(g.multiply(et*et*et).add(b.multiply(et*et).add(k.multiply(et).add(M))));break t}}}catch(t){ot=!0,lt=t}finally{try{at||null==ht.return||ht.return()}finally{if(ot)throw lt}}}}}catch(t){J=!0,K=t}finally{try{G||null==tt.return||tt.return()}finally{if(J)throw K}}return p.points.length>0&&(p.status="Intersection"),p}},{key:"intersectBezier3Circle",value:function(t,n,i,s,r,a){return e.intersectBezier3Ellipse(t,n,i,s,r,a,a)}},{key:"intersectBezier3Ellipse",value:function(t,n,i,s,r,o,l){var h,y,c,f,x=new e("No Intersection");h=t.multiply(-1),y=n.multiply(3),c=i.multiply(-3),f=h.add(y.add(c.add(s)));var p=new a(f.x,f.y);h=t.multiply(3),y=n.multiply(-6),c=i.multiply(3),f=h.add(y.add(c));var v=new a(f.x,f.y);h=t.multiply(-3),y=n.multiply(3),c=h.add(y);var d=new a(c.x,c.y),m=new a(t.x,t.y),w=o*o,g=l*l,b=new u(p.x*p.x*g+p.y*p.y*w,2*(p.x*v.x*g+p.y*v.y*w),2*(p.x*d.x*g+p.y*d.y*w)+v.x*v.x*g+v.y*v.y*w,2*p.x*g*(m.x-r.x)+2*p.y*w*(m.y-r.y)+2*(v.x*d.x*g+v.y*d.y*w),2*v.x*g*(m.x-r.x)+2*v.y*w*(m.y-r.y)+d.x*d.x*g+d.y*d.y*w,2*d.x*g*(m.x-r.x)+2*d.y*w*(m.y-r.y),m.x*m.x*g-2*m.y*r.y*w-2*m.x*r.x*g+m.y*m.y*w+r.x*r.x*g+r.y*r.y*w-w*g).getRootsInInterval(0,1),k=!0,M=!1,P=void 0;try{for(var X,I=b[Symbol.iterator]();!(k=(X=I.next()).done);k=!0){var R=X.value;x.points.push(p.multiply(R*R*R).add(v.multiply(R*R).add(d.multiply(R).add(m))))}}catch(t){M=!0,P=t}finally{try{k||null==I.return||I.return()}finally{if(M)throw P}}return x.points.length>0&&(x.status="Intersection"),x}},{key:"intersectBezier3Line",value:function(t,n,i,s,r,o){var l,h,y,c,f=r.min(o),x=r.max(o),p=new e("No Intersection");l=t.multiply(-1),h=n.multiply(3),y=i.multiply(-3),c=l.add(h.add(y.add(s)));var v=new a(c.x,c.y);l=t.multiply(3),h=n.multiply(-6),y=i.multiply(3),c=l.add(h.add(y));var d=new a(c.x,c.y);l=t.multiply(-3),h=n.multiply(3),y=l.add(h);var m=new a(y.x,y.y),w=new a(t.x,t.y),g=new a(r.y-o.y,o.x-r.x),b=r.x*o.y-o.x*r.y,k=new u(g.dot(v),g.dot(d),g.dot(m),g.dot(w)+b).getRoots(),M=!0,P=!1,X=void 0;try{for(var I,R=k[Symbol.iterator]();!(M=(I=R.next()).done);M=!0){var E=I.value;if(0<=E&&E<=1){var N=t.lerp(n,E),C=n.lerp(i,E),Y=i.lerp(s,E),L=N.lerp(C,E),A=C.lerp(Y,E),z=L.lerp(A,E);r.x===o.x?f.y<=z.y&&z.y<=x.y&&(p.status="Intersection",p.appendPoint(z)):r.y===o.y?f.x<=z.x&&z.x<=x.x&&(p.status="Intersection",p.appendPoint(z)):f.x<=z.x&&z.x<=x.x&&f.y<=z.y&&z.y<=x.y&&(p.status="Intersection",p.appendPoint(z))}}}catch(t){P=!0,X=t}finally{try{M||null==R.return||R.return()}finally{if(P)throw X}}return p}},{key:"intersectBezier3Polygon",value:function(t,n,i,s,r){return e.intersectBezier3Polyline(t,n,i,s,v(r))}},{key:"intersectBezier3Polyline",value:function(t,n,i,s,r){for(var a=new e("No Intersection"),o=r.length,l=0;l<o-1;l++){var u=r[l],h=r[l+1],y=e.intersectBezier3Line(t,n,i,s,u,h);a.appendPoints(y.points)}return a.points.length>0&&(a.status="Intersection"),a}},{key:"intersectBezier3Rectangle",value:function(t,n,i,s,a,o){var l=a.min(o),u=a.max(o),h=new r(u.x,l.y),y=new r(l.x,u.y),c=e.intersectBezier3Line(t,n,i,s,l,h),f=e.intersectBezier3Line(t,n,i,s,h,u),x=e.intersectBezier3Line(t,n,i,s,u,y),p=e.intersectBezier3Line(t,n,i,s,y,l),v=new e("No Intersection");return v.appendPoints(c.points),v.appendPoints(f.points),v.appendPoints(x.points),v.appendPoints(p.points),v.points.length>0&&(v.status="Intersection"),v}},{key:"intersectCircleCircle",value:function(t,n,i,s){var a,o=n+s,l=Math.abs(n-s),u=t.distanceFrom(i);if(u>o)a=new e("Outside");else if(u<l)a=new e("Inside");else{a=new e("Intersection");var h=(n*n-s*s+u*u)/(2*u),y=Math.sqrt(n*n-h*h),c=t.lerp(i,h/u),f=y/u;a.points.push(new r(c.x-f*(i.y-t.y),c.y+f*(i.x-t.x))),a.points.push(new r(c.x+f*(i.y-t.y),c.y-f*(i.x-t.x)))}return a}},{key:"intersectCircleEllipse",value:function(t,n,i,s,r){return e.intersectEllipseEllipse(t,n,n,i,s,r)}},{key:"intersectCircleLine",value:function(t,n,i,s){var r,a=(s.x-i.x)*(s.x-i.x)+(s.y-i.y)*(s.y-i.y),o=2*((s.x-i.x)*(i.x-t.x)+(s.y-i.y)*(i.y-t.y)),l=o*o-4*a*(t.x*t.x+t.y*t.y+i.x*i.x+i.y*i.y-2*(t.x*i.x+t.y*i.y)-n*n);if(l<0)r=new e("Outside");else if(0===l)r=new e("Tangent");else{var u=Math.sqrt(l),h=(-o+u)/(2*a),y=(-o-u)/(2*a);(h<0||h>1)&&(y<0||y>1)?r=new e(h<0&&y<0||h>1&&y>1?"Outside":"Inside"):(r=new e("Intersection"),0<=h&&h<=1&&r.points.push(i.lerp(s,h)),0<=y&&y<=1&&r.points.push(i.lerp(s,y)))}return r}},{key:"intersectCirclePolygon",value:function(t,n,i){return e.intersectCirclePolyline(t,n,v(i))}},{key:"intersectCirclePolyline",value:function(t,n,i){for(var s,r=new e("No Intersection"),a=i.length,o=0;o<a-1;o++){var l=i[o],u=i[o+1];s=e.intersectCircleLine(t,n,l,u),r.appendPoints(s.points)}return r.points.length>0?r.status="Intersection":r.status=s.status,r}},{key:"intersectCircleRectangle",value:function(t,n,i,s){var a=i.min(s),o=i.max(s),l=new r(o.x,a.y),u=new r(a.x,o.y),h=e.intersectCircleLine(t,n,a,l),y=e.intersectCircleLine(t,n,l,o),c=e.intersectCircleLine(t,n,o,u),f=e.intersectCircleLine(t,n,u,a),x=new e("No Intersection");return x.appendPoints(h.points),x.appendPoints(y.points),x.appendPoints(c.points),x.appendPoints(f.points),x.points.length>0?x.status="Intersection":x.status=h.status,x}},{key:"intersectEllipseEllipse",value:function(t,n,i,s,a,o){for(var l,h,y,c,f,x,p,v,d,m,w,g,b,k,M,P=[i*i,0,n*n,-2*i*i*t.x,-2*n*n*t.y,i*i*t.x*t.x+n*n*t.y*t.y-n*n*i*i],X=[o*o,0,a*a,-2*o*o*s.x,-2*a*a*s.y,o*o*s.x*s.x+a*a*s.y*s.y-a*a*o*o],I=(h=X,y=(l=P)[0]*h[1]-h[0]*l[1],c=l[0]*h[2]-h[0]*l[2],f=l[0]*h[3]-h[0]*l[3],x=l[0]*h[4]-h[0]*l[4],p=l[0]*h[5]-h[0]*l[5],v=l[1]*h[2]-h[1]*l[2],d=l[1]*h[4]-h[1]*l[4],m=l[1]*h[5]-h[1]*l[5],w=l[2]*h[3]-h[2]*l[3],g=l[3]*h[4]-h[3]*l[4],b=l[3]*h[5]-h[3]*l[5],new u(y*v-c*c,y*(M=d-w)+f*v-2*c*x,y*(k=m+g)+f*M-x*x-2*c*p,y*b+f*k-2*x*p,f*b-p*p)).getRoots(),R=.001*(P[0]*P[0]+2*P[1]*P[1]+P[2]*P[2]),E=.001*(X[0]*X[0]+2*X[1]*X[1]+X[2]*X[2]),N=new e("No Intersection"),C=0;C<I.length;C++)for(var Y=new u(P[0],P[3]+I[C]*P[1],P[5]+I[C]*(P[4]+I[C]*P[2])).getRoots(),L=0;L<Y.length;L++){var A=(P[0]*Y[L]+P[1]*I[C]+P[3])*Y[L]+(P[2]*I[C]+P[4])*I[C]+P[5];Math.abs(A)<R&&(A=(X[0]*Y[L]+X[1]*I[C]+X[3])*Y[L]+(X[2]*I[C]+X[4])*I[C]+X[5],Math.abs(A)<E&&N.appendPoint(new r(Y[L],I[C])))}return N.points.length>0&&(N.status="Intersection"),N}},{key:"intersectEllipseLine",value:function(t,n,i,s,r){var o,l=new a(s.x,s.y),u=a.fromPoints(s,r),h=new a(t.x,t.y),y=l.subtract(h),c=new a(u.x/(n*n),u.y/(i*i)),f=new a(y.x/(n*n),y.y/(i*i)),x=u.dot(c),p=u.dot(f),v=p*p-x*(t=y.dot(f)-1);if(v<0)o=new e("Outside");else if(v>0){var d=Math.sqrt(v),m=(-p-d)/x,w=(-p+d)/x;(m<0||1<m)&&(w<0||1<w)?o=new e(m<0&&w<0||m>1&&w>1?"Outside":"Inside"):(o=new e("Intersection"),0<=m&&m<=1&&o.appendPoint(s.lerp(r,m)),0<=w&&w<=1&&o.appendPoint(s.lerp(r,w)))}else{var g=-p/x;0<=g&&g<=1?(o=new e("Intersection")).appendPoint(s.lerp(r,g)):o=new e("Outside")}return o}},{key:"intersectEllipsePolygon",value:function(t,n,i,s){return e.intersectEllipsePolyline(t,n,i,v(s))}},{key:"intersectEllipsePolyline",value:function(t,n,i,s){for(var r=new e("No Intersection"),a=s.length,o=0;o<a-1;o++){var l=s[o],u=s[o+1],h=e.intersectEllipseLine(t,n,i,l,u);r.appendPoints(h.points)}return r.points.length>0&&(r.status="Intersection"),r}},{key:"intersectEllipseRectangle",value:function(t,n,i,s,a){var o=s.min(a),l=s.max(a),u=new r(l.x,o.y),h=new r(o.x,l.y),y=e.intersectEllipseLine(t,n,i,o,u),c=e.intersectEllipseLine(t,n,i,u,l),f=e.intersectEllipseLine(t,n,i,l,h),x=e.intersectEllipseLine(t,n,i,h,o),p=new e("No Intersection");return p.appendPoints(y.points),p.appendPoints(c.points),p.appendPoints(f.points),p.appendPoints(x.points),p.points.length>0&&(p.status="Intersection"),p}},{key:"intersectLineLine",value:function(t,n,i,s){var a,o=(s.x-i.x)*(t.y-i.y)-(s.y-i.y)*(t.x-i.x),l=(n.x-t.x)*(t.y-i.y)-(n.y-t.y)*(t.x-i.x),u=(s.y-i.y)*(n.x-t.x)-(s.x-i.x)*(n.y-t.y);if(0!==u){var h=o/u,y=l/u;0<=h&&h<=1&&0<=y&&y<=1?(a=new e("Intersection")).points.push(new r(t.x+h*(n.x-t.x),t.y+h*(n.y-t.y))):a=new e("No Intersection")}else a=new e(0===o||0===l?"Coincident":"Parallel");return a}},{key:"intersectLinePolygon",value:function(t,n,i){return e.intersectLinePolyline(t,n,v(i))}},{key:"intersectLinePolyline",value:function(t,n,i){for(var s=new e("No Intersection"),r=i.length,a=0;a<r-1;a++){var o=i[a],l=i[a+1],u=e.intersectLineLine(t,n,o,l);s.appendPoints(u.points)}return s.points.length>0&&(s.status="Intersection"),s}},{key:"intersectLineRectangle",value:function(t,n,i,s){var a=i.min(s),o=i.max(s),l=new r(o.x,a.y),u=new r(a.x,o.y),h=e.intersectLineLine(a,l,t,n),y=e.intersectLineLine(l,o,t,n),c=e.intersectLineLine(o,u,t,n),f=e.intersectLineLine(u,a,t,n),x=new e("No Intersection");return x.appendPoints(h.points),x.appendPoints(y.points),x.appendPoints(c.points),x.appendPoints(f.points),x.points.length>0&&(x.status="Intersection"),x}},{key:"intersectPolygonPolygon",value:function(t,n){return e.intersectPolylinePolyline(v(t),v(n))}},{key:"intersectPolygonPolyline",value:function(t,n){return e.intersectPolylinePolyline(v(t),n)}},{key:"intersectPolygonRectangle",value:function(t,n,i){return e.intersectPolylineRectangle(v(t),n,i)}},{key:"intersectPolylinePolyline",value:function(t,n){for(var i=new e("No Intersection"),s=t.length,r=0;r<s-1;r++){var a=t[r],o=t[r+1],l=e.intersectLinePolyline(a,o,n);i.appendPoints(l.points)}return i.points.length>0&&(i.status="Intersection"),i}},{key:"intersectPolylineRectangle",value:function(t,n,i){var s=n.min(i),a=n.max(i),o=new r(a.x,s.y),l=new r(s.x,a.y),u=e.intersectLinePolyline(s,o,t),h=e.intersectLinePolyline(o,a,t),y=e.intersectLinePolyline(a,l,t),c=e.intersectLinePolyline(l,s,t),f=new e("No Intersection");return f.appendPoints(u.points),f.appendPoints(h.points),f.appendPoints(y.points),f.appendPoints(c.points),f.points.length>0&&(f.status="Intersection"),f}},{key:"intersectRectangleRectangle",value:function(t,n,i,s){var a=t.min(n),o=t.max(n),l=new r(o.x,a.y),u=new r(a.x,o.y),h=e.intersectLineRectangle(a,l,i,s),y=e.intersectLineRectangle(l,o,i,s),c=e.intersectLineRectangle(o,u,i,s),f=e.intersectLineRectangle(u,a,i,s),x=new e("No Intersection");return x.appendPoints(h.points),x.appendPoints(y.points),x.appendPoints(c.points),x.appendPoints(f.points),x.points.length>0&&(x.status="Intersection"),x}},{key:"intersectRayRay",value:function(t,n,i,s){var a,o=(s.x-i.x)*(t.y-i.y)-(s.y-i.y)*(t.x-i.x),l=(n.x-t.x)*(t.y-i.y)-(n.y-t.y)*(t.x-i.x),u=(s.y-i.y)*(n.x-t.x)-(s.x-i.x)*(n.y-t.y);if(0!==u){var h=o/u;(a=new e("Intersection")).points.push(new r(t.x+h*(n.x-t.x),t.y+h*(n.y-t.y)))}else a=new e(0===o||0===l?"Coincident":"Parallel");return a}}]),e}(),m=function(){function e(n,i){t(this,e),this.type=n,this.text=i}return n(e,[{key:"typeis",value:function(t){return this.type===t}}]),e}();m.UNDEFINED=0,m.COMMAND=1,m.NUMBER=2,m.EOD=3;var w=function(){function e(n){t(this,e),null==n&&(n=""),this.setPathData(n)}return n(e,[{key:"setPathData",value:function(t){if("string"!=typeof t)throw new Error("PathLexer.setPathData: The first parameter must be a string");this._pathData=t}},{key:"getNextToken",value:function(){for(var t=null,e=this._pathData;null===t;)if(null===e||""===e)t=new m(m.EOD,"");else if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([AaCcHhLlMmQqSsTtVvZz])/))t=new m(m.COMMAND,RegExp.$1),e=e.substr(RegExp.$1.length);else{if(!e.match(/^(([-+]?\d+(\.\d*)?|[-+]?\.\d+)([eE][-+]?\d+)?)/))throw new Error("PathLexer.getNextToken: unrecognized path data "+e);t=new m(m.NUMBER,parseFloat(RegExp.$1)),e=e.substr(RegExp.$1.length)}return this._pathData=e,t}}]),e}(),g=function(){function e(){t(this,e),this._lexer=new w,this._handler=null}return n(e,[{key:"parseData",value:function(t){if("string"!=typeof t)throw new Error("PathParser.parseData: The first parameter must be a string");null!==this._handler&&"function"==typeof this._handler.beginParse&&this._handler.beginParse();var n=this._lexer;n.setPathData(t);for(var i="BOP",s=n.getNextToken();!1===s.typeis(m.EOD);){var r=void 0,a=[];switch(s.type){case m.COMMAND:if("BOP"===i&&"M"!==s.text&&"m"!==s.text)throw new Error("PathParser.parseData: a path must begin with a moveto command");i=s.text,r=e.PARAMCOUNT[s.text.toUpperCase()],s=n.getNextToken();break;case m.NUMBER:break;default:throw new Error("PathParser.parseData: unrecognized token type: "+s.type)}for(var o=0;o<r;o++){switch(s.type){case m.COMMAND:throw new Error("PathParser.parseData: parameter must be a number: "+s.text);case m.NUMBER:a[o]=parseFloat(s.text);break;default:throw new Error("PathParser.parseData: unrecognized token type: "+s.type)}s=n.getNextToken()}if(null!==this._handler){var l=this._handler,u=e.METHODNAME[i];"a"!==i&&"A"!==i||(a[3]=0!==a[3],a[4]=0!==a[4]),null!==l&&"function"==typeof l[u]&&l[u].apply(l,a)}switch(i){case"M":i="L";break;case"m":i="l"}}null!==this._handler&&"function"==typeof this._handler.endParse&&this._handler.endParse()}},{key:"setHandler",value:function(t){this._handler=t}}]),e}();g.PARAMCOUNT={A:7,C:6,H:1,L:2,M:2,Q:4,S:4,T:2,V:1,Z:0},g.METHODNAME={A:"arcAbs",a:"arcRel",C:"curvetoCubicAbs",c:"curvetoCubicRel",H:"linetoHorizontalAbs",h:"linetoHorizontalRel",L:"linetoAbs",l:"linetoRel",M:"movetoAbs",m:"movetoRel",Q:"curvetoQuadraticAbs",q:"curvetoQuadraticRel",S:"curvetoCubicSmoothAbs",s:"curvetoCubicSmoothRel",T:"curvetoQuadraticSmoothAbs",t:"curvetoQuadraticSmoothRel",V:"linetoVerticalAbs",v:"linetoVerticalRel",Z:"closePath",z:"closePath"};var b=2*Math.PI;function k(t,e,n,i,s,r,o){s=s*Math.PI/180;var l=Math.cos(s),u=Math.sin(s),h=t.subtract(e).multiply(.5),y=h.x*l+h.y*u,c=h.x*-u+h.y*l,f=y*y,x=c*c,p=f/((n=Math.abs(n))*n)+x/((i=Math.abs(i))*i);if(p>1){var v=Math.sqrt(p);n*=v,i*=v}var d=n*n,m=i*i,w=d*x,g=m*f,k=(d*m-w-g)/(w+g);Math.abs(k)<1e-6&&(k=0);var M=Math.sqrt(k);r===o&&(M=-M);var P,X,I=t.add(e).multiply(.5),R=M*n*c/i,E=M*-i*y/n,N=(y-R)/n,C=(y+R)/n,Y=(c-E)/i,L=(c+E)/i,A=new a(1,0).angleBetween(new a(N,Y)),z=(P=new a(N,Y).angleBetween(new a(-C,-L)),(X=P%b)<0?X+b:X);return!1===o&&(z-=b),[R*l-E*u+I.x,R*u+E*l+I.y,n,i,A,A+z]}var M=function(){function e(){t(this,e),this.shapes=[],this.firstX=null,this.firstY=null,this.lastX=null,this.lastY=null,this.lastCommand=null}return n(e,[{key:"beginParse",value:function(){this.shapes=[],this.firstX=null,this.firstY=null,this.lastX=null,this.lastY=null,this.lastCommand=null}},{key:"addShape",value:function(t){this.shapes.push(t)}},{key:"arcAbs",value:function(t,e,n,i,a,o,l){if(0===t||0===e)this.addShape(P.line(this.lastX,this.lastY,o,l));else{var u=k(new r(this.lastX,this.lastY),new r(o,l),t,e,n,i,a);this.addShape(P.arc.apply(P,s(u)))}this.lastCommand="A",this.lastX=o,this.lastY=l}},{key:"arcRel",value:function(t,e,n,i,a,o,l){if(0===t||0===e)this.addShape(P.line(this.lastX,this.lastY,this.lastX+o,this.lastY+l));else{var u=k(new r(this.lastX,this.lastY),new r(this.lastX+o,this.lastY+l),t,e,n,i,a);this.addShape(P.arc.apply(P,s(u)))}this.lastCommand="a",this.lastX+=o,this.lastY+=l}},{key:"curvetoCubicAbs",value:function(t,e,n,i,s,r){this.addShape(P.cubicBezier(this.lastX,this.lastY,t,e,n,i,s,r)),this.lastX=s,this.lastY=r,this.lastCommand="C"}},{key:"curvetoCubicRel",value:function(t,e,n,i,s,r){this.addShape(P.cubicBezier(this.lastX,this.lastY,this.lastX+t,this.lastY+e,this.lastX+n,this.lastY+i,this.lastX+s,this.lastY+r)),this.lastX+=s,this.lastY+=r,this.lastCommand="c"}},{key:"linetoHorizontalAbs",value:function(t){this.addShape(P.line(this.lastX,this.lastY,t,this.lastY)),this.lastX=t,this.lastCommand="H"}},{key:"linetoHorizontalRel",value:function(t){this.addShape(P.line(this.lastX,this.lastY,this.lastX+t,this.lastY)),this.lastX+=t,this.lastCommand="h"}},{key:"linetoAbs",value:function(t,e){this.addShape(P.line(this.lastX,this.lastY,t,e)),this.lastX=t,this.lastY=e,this.lastCommand="L"}},{key:"linetoRel",value:function(t,e){this.addShape(P.line(this.lastX,this.lastY,this.lastX+t,this.lastY+e)),this.lastX+=t,this.lastY+=e,this.lastCommand="l"}},{key:"movetoAbs",value:function(t,e){this.firstX=t,this.firstY=e,this.lastX=t,this.lastY=e,this.lastCommand="M"}},{key:"movetoRel",value:function(t,e){this.firstX+=t,this.firstY+=e,this.lastX+=t,this.lastY+=e,this.lastCommand="m"}},{key:"curvetoQuadraticAbs",value:function(t,e,n,i){this.addShape(P.quadraticBezier(this.lastX,this.lastY,t,e,n,i)),this.lastX=n,this.lastY=i,this.lastCommand="Q"}},{key:"curvetoQuadraticRel",value:function(t,e,n,i){this.addShape(P.quadraticBezier(this.lastX,this.lastY,this.lastX+t,this.lastY+e,this.lastX+n,this.lastY+i)),this.lastX+=n,this.lastY+=i,this.lastCommand="q"}},{key:"curvetoCubicSmoothAbs",value:function(t,e,n,i){var s,r;if(this.lastCommand.match(/^[SsCc]$/)){var a=this.shapes[this.shapes.length-1].args[2];s=2*this.lastX-a.x,r=2*this.lastX-a.y}else s=this.lastX,r=this.lastY;this.addShape(P.cubicBezier(this.lastX,this.lastY,s,r,t,e,n,i)),this.lastX=n,this.lastY=i,this.lastCommand="S"}},{key:"curvetoCubicSmoothRel",value:function(t,e,n,i){var s,r;if(this.lastCommand.match(/^[SsCc]$/)){var a=this.shapes[this.shapes.length-1].args[2];s=2*this.lastX-a.x,r=2*this.lastY-a.y}else s=this.lastX,r=this.lastY;this.addShape(P.cubicBezier(this.lastX,this.lastY,s,r,this.lastX+t,this.lastY+e,this.lastX+n,this.lastY+i)),this.lastX+=n,this.lastY+=i,this.lastCommand="s"}},{key:"curvetoQuadraticSmoothAbs",value:function(t,e){var n,i;if(this.lastCommand.match(/^[QqTt]$/)){var s=this.shapes[this.shapes.length-1].args[1];n=2*this.lastX-s.x,i=2*this.lastY-s.y}else n=this.lastX,i=this.lastY;this.addShape(P.quadraticBezier(this.lastX,this.lastY,n,i,t,e)),this.lastX=t,this.lastY=e,this.lastCommand="T"}},{key:"curvetoQuadraticSmoothRel",value:function(t,e){var n,i;if(this.lastCommand.match(/^[QqTt]$/)){var s=this.shapes[this.shapes.length-1].args[1];n=2*this.lastX-s.x,i=2*this.lastY-s.y}else n=this.lastX,i=this.lastY;this.addShape(P.quadraticBezier(this.lastX,this.lastY,n,i,this.lastX+t,this.lastY+e)),this.lastX+=t,this.lastY+=e,this.lastCommand="t"}},{key:"linetoVerticalAbs",value:function(t){this.addShape(P.line(this.lastX,this.lastY,this.lastX,t)),this.lastY=t,this.lastCommand="V"}},{key:"linetoVerticalRel",value:function(t){this.addShape(P.line(this.lastX,this.lastY,this.lastX,this.lastY+t)),this.lastY+=t,this.lastCommand="v"}},{key:"closePath",value:function(){this.addShape(P.line(this.lastX,this.lastY,this.firstX,this.firstY)),this.lastX=this.firstX,this.lastY=this.firstY,this.lastCommand="z"}}]),e}(),P={quadraticBezier:function(t,e,n,i,s,a){return new h("Bezier2",[new r(t,e),new r(n,i),new r(s,a)])},cubicBezier:function(t,e,n,i,s,a,o,l){return new h("Bezier3",[new r(t,e),new r(n,i),new r(s,a),new r(o,l)])},circle:function(t,e,n){return new h("Circle",[new r(t,e),n])},ellipse:function(t,e,n,i){return new h("Ellipse",[new r(t,e),n,i])},arc:function(t,e,n,i,s,a){return new h("Arc",[new r(t,e),n,i,s,a])},line:function(t,e,n,i){return new h("Line",[new r(t,e),new r(n,i)])},path:function(t){return new h("Path",t)},pathData:function(t){var e=new g,n=new M;return e.setHandler(n),e.parseData(t),P.path(n.shapes)},polygon:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(new r(t[n],t[n+1]));return new h("Polygon",[e])},polyline:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(new r(t[n],t[n+1]));return new h("Polyline",[e])},rectangle:function(t,e,n,i){return new h("Rectangle",[new r(t,e),new r(t+n,e+i)])}},X={quadraticBezier:function(t,e,n){return new h("Bezier2",[t,e,n])},cubicBezier:function(t,e,n,i){return new h("Bezier3",[t,e,n,i])},circle:function(t,e){return new h("Circle",[t,e])},ellipse:function(t,e,n){return new h("Ellipse",[t,e,n])},arc:function(t,e,n,i,s){return new h("Arc",[t,e,n,i,s])},line:function(t,e){return new h("Line",[t,e])},path:function(t){return new h("Path",t)},pathData:function(t){var e=new g,n=new M;return e.setHandler(n),e.parseData(t),X.path(n.shapes)},polygon:function(t){return new h("Polygon",[t])},polyline:function(t){return new h("Polyline",[t])},rectangle:function(t,e){return new h("Rectangle",[t,t.add(e)])}},I={pointInCircle:function(t,e,n){return a.fromPoints(e,t).length()<=n},pointInEllipse:function(t,e,n,i){var s=t.subtract(e);return s.x*s.x/(n*n)+s.y*s.y/(i*i)<=1},pointInPolyline:function(t,e){for(var n,i=e.length,s=0,r=e[0],a=1;a<=i;a++){var o=e[a%i],l=Math.min(r.y,o.y),u=Math.max(r.y,o.y),h=Math.max(r.x,o.x);r.y!==o.y&&l<t.y&&t.y<=u&&t.x<=h&&(n=(t.y-r.y)*(o.x-r.x)/(o.y-r.y)+r.x,(r.x===o.x||t.x<=n)&&s++),r=o}return s%2==1}};I.pointInPolygon=I.pointInPolyline,I.pointInRectangle=function(t,e,n){return e.x<=t.x&&t.x<n.x&&e.y<=t.y&&t.y<n.y};export{X as AffineShapes,d as Intersection,h as IntersectionArgs,I as IntersectionQuery,o as Matrix2D,r as Point2D,P as Shapes,a as Vector2D};
//# sourceMappingURL=index-esm.min.js.map
