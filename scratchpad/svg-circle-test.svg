<?xml version="1.0"?>
<svg
    xmlns="http://www.w3.org/2000/svg" version="1.1"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    onload="go(evt)">

    <defs>
        <script type="text/javascript" xlink:href="../dist/index-umd.js"/>
        <script type="text/javascript"><![CDATA[
            var {SvgShapes, Intersection} = KldIntersections;

            function go() {
                const shape1 = makeShape("a");
                const shape2 = makeShape("b");
                const result = Intersection.intersect(shape1, shape2);

                const xml = result.points.map(point => {
                    return `<circle cx="${point.x}" cy="${point.y}" r="2" stroke="red" fill="none"/>`
                }).join("\n");

                document.getElementById("result").innerHTML = xml;
            }

            function makeShape(id) {
                return SvgShapes.element(document.getElementById(id));
            }
        ]]></script>
    </defs>

    <circle id="a" cx="70" cy="80" r="50" fill="blue" opacity="0.5"/>
    <circle id="b" cx="140" cy="135" r="80" fill="orange" opacity="0.5"/>
    <g id="result"></g>
</svg>
